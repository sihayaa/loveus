<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mini Games</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom right, #c5f0d4, #e1d8f0);
      text-align: center;
      padding: 40px;
      color: #444;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 20px;
    }

    p {
      font-size: 1.1em;
    }

    .menu button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 1em;
      cursor: pointer;
      background: white;
      border: none;
      border-radius: 8px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      transition: 0.2s;
    }

    .menu button:hover {
      transform: scale(1.05);
      background: #f3eaff;
    }

    .game-section {
      display: none;
      margin-top: 30px;
    }

    .active {
      display: block;
    }

    #scores {
      margin-top: 30px;
    }

    #scores span {
      margin: 0 15px;
      font-size: 1.1em;
    }

    iframe {
      border: none;
      border-radius: 10px;
      margin-top: 15px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
    }

    input, button {
      font-family: inherit;
    }

    .back-button {
      position: absolute;
      top: 20px;
      left: 20px;
      background-color: #c5a3e0;
      color: #fff;
      text-decoration: none;
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 0.95em;
      font-family: 'Segoe UI', sans-serif;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: all 0.2s ease;
    }

    .back-button:hover {
      background-color: #b087d0;
      transform: scale(1.05);
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>

  <!-- ğŸŒ¸ Back Button -->
  <a href="index.html" class="back-button">â† Back to Home</a>

  <h1>ğŸ® Mini Games</h1>
  <p>Have fun playing together! Track your scores below ğŸ’šğŸ’œ</p>

  <div class="menu">
    <button onclick="showGame('dino')">ğŸ¦– Dino Game</button>
    <button onclick="showGame('memory')">ğŸ’­ Guess the Memory</button>
    <button onclick="showGame('wyr')">ğŸ’¬ Would You Rather?</button>
  </div>

  <div id="scores">
    <span>Tricia: <strong id="score-tricia">0</strong></span>
    <span>Mike: <strong id="score-mike">0</strong></span>
  </div>

  <!-- ğŸ¦– Dino Game -->
  <div id="dino" class="game-section">
    <h2>Dino Game</h2>
    <iframe src="dino/index.html" width="800" height="250"></iframe>
    <p>Click who won after playing:</p>
    <button onclick="addWin('Tricia')">Tricia Wins</button>
    <button onclick="addWin('Mike')">Mike Wins</button>
  </div>

  <!-- ğŸ’­ Guess the Memory -->
  <div id="memory" class="game-section">
    <h2>Guess the Memory</h2>
    <input id="memQ" placeholder="Memory or question" style="width:60%;padding:5px;"><br><br>
    <input id="memA" placeholder="Correct answer" style="width:60%;padding:5px;"><br><br>
    <button onclick="storeMem()">Save Memory</button><br><br>
    <input id="guess" placeholder="Your guess" style="width:60%;padding:5px;"><br><br>
    <button onclick="checkGuess()">Submit Guess</button>
    <p id="memResult"></p>
  </div>

  <!-- ğŸ’¬ Would You Rather -->
  <div id="wyr" class="game-section">
    <h2>Would You Rather?</h2>
    <div id="wyrQ" style="font-size:1.2em;margin:20px;"></div>
    <button onclick="newWYR()">ğŸ”„ New Question</button>
  </div>

  <script>
    const SUPABASE_URL = 'https://tmjozxcjylcxgemffnoc.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRtam96eGNqeWxjeGdlbWZmbm9jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNzQxMzIsImV4cCI6MjA2NzY1MDEzMn0.W3VWFN5tiPhkoVzW_iZsYIZAcWn01LL2YfdI8zBowVI';

    const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
    const scores = { Tricia: 0, Mike: 0 };

    async function fetchScores() {
      const { data } = await supabase
        .from('scores')
        .select('Tricia, Mike')
        .eq('id', 'Couple')
        .single();

      if (data) {
        scores.Tricia = data.Tricia || 0;
        scores.Mike = data.Mike || 0;
        updateUI();
      }
    }

    async function addWin(player) {
      scores[player]++;
      updateUI();
      await supabase
        .from('scores')
        .update({ [player]: scores[player] })
        .eq('id', 'Couple');
    }

    function updateUI() {
      document.getElementById('score-tricia').textContent = scores.Tricia;
      document.getElementById('score-mike').textContent = scores.Mike;
    }

    function showGame(id) {
      document.querySelectorAll('.game-section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    // Memory game logic
    let correct = '';
    function storeMem() {
      correct = document.getElementById('memA').value.toLowerCase().trim();
      document.getElementById('memResult').textContent = 'Memory saved!';
    }

    function checkGuess() {
      const guess = document.getElementById('guess').value.toLowerCase().trim();
      document.getElementById('memResult').textContent =
        guess === correct ? 'âœ… Correct!' : 'âŒ Try again!';
    }

    // Would You Rather logic
    const wyrQs = [
      "Cuddle on a rainy day ğŸŒ§ or stargaze on a clear night ğŸŒŒ?",
      "Travel the world ğŸŒ or build a home ğŸ¡?",
      "Game together ğŸ® or movie together ğŸ¬?",
      "Love letters ğŸ’Œ or only emojis ğŸ˜˜?",
      "Go on a cruise ğŸš¢ or cabin in the mountains ğŸ”?",
    ];

    function newWYR() {
      const q = wyrQs[Math.floor(Math.random() * wyrQs.length)];
      document.getElementById('wyrQ').textContent = q;
    }

    fetchScores();
    newWYR();
    showGame('dino');
  </script>
</body>
</html>
